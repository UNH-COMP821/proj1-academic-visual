{% extends 'universitytransfer/base.html' %}
{% load static %}

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Welcome Home To Dynamic Main {% endblock %}</title>
</head>
<body>
  {% block pagecontent %}
  <p id="demo"></p>
  <p id="demo2"></p>
  <p id="demo3"></p>
  <script>
    
    window.onload = function() {
      
    var worker = new Worker("{% static 'universitytransfer/js/worker.js' %}");
    var result;

    // worker.onmessage = function(e) {        
    //     result = e.data;        
    //     updateOutput(result);
    //   }
    
    function updateOutput(result) {
      document.getElementById("demo").innerHTML = JSON.stringify(result);
      }

    alert("let's go!");
    var output = {worker:"{% static 'universitytransfer/js/worker.js' %}"};

     //var svg = new Viz(output);
     var svg = new Viz();
     

     var result = svg.renderJSONObject("digraph G { a -> b; }").then(function (str) {
      updateOutput(str);
    });

    var result = svg.renderImageElement("digraph G { from_nhit [label=\"GoogleURLz\" URL=\"google.com\" color=lightgreen fillcolor=lightyellow style=filled];a -> b; }").then(function (str) {
      var str2 = str;
      //updateOutput(str);
      document.getElementById("demo2").appendChild(str2);
    });


    
    var result = svg.renderSVGElement("digraph G { from_nhit [label=\"GoogleURLz2\" URL=\"http://www.google.com\" color=lightgreen fillcolor=lightyellow style=filled];a -> b; }").then(function (str) {
      var str2 = str;
      //updateOutput(str);
      document.getElementById("demo3").appendChild(str2);
    });

     var result2 = result;
     

     //result = new Viz("digraph { x -> y -> z; }", { format: "plain" },worker);
     //result = new Viz("digraph g { a -> b; }", { format: "plain" }, worker);
     //result.wrapper.result =
    // var graphviz_text = "digraph g { a -> b; }";
     //result = new Viz(graphviz_text, "svg");

      //var jsonObj = result.renderJSONObject("digraph g { a -> b; }")
      //var text = document.createElement("div");
      //  text.id = "text";
      //  text.appendChild(document.createTextNode(JSON.stringify(result)));
        //graph.appendChild(text);
      //  document.getElementById("demo").innerHTML = "JSON:" + JSON.stringify(jsonObj);
      //  document.getElementById("demo2").innerHTML = JSON.stringify(result);
        
     //result="<p>" + "result" + "</p>"
     //document.getElementById("demo").innerHTML = result.toString();
      //document.getElementById("demo").innerHTML = result; 
    }
  
  </script>


  <img alt="smiley" style="" src="{% static 'universitytransfer/images/nashua.svg' %}" usemap="#G" alt="graphviz graph" />
  <map id="G" name="G">
      <area shape="poly" id="node1" href="https://www.nhtransfer.org/sites/nhtransfer.org/files/media/nhtransferapplication.pdf" title="Transfer" alt="" coords="425,317,422,310,415,303,402,298,387,295,370,293,353,295,337,298,325,303,317,310,314,317,317,325,325,331,337,337,353,340,370,341,387,340,402,337,415,331,422,325"/>
      <area shape="poly" id="node5" href="/" title="Apply" alt="" coords="414,413,412,406,405,399,396,394,383,391,370,389,356,391,344,394,334,399,328,406,326,413,328,421,334,427,344,433,356,436,370,437,383,436,396,433,405,427,412,421"/>
      <area shape="poly" id="node2" href="https://manchester.unh.edu/costs" title="Compare Tuition Cost" alt="" coords="698,317,692,310,674,303,647,298,612,295,574,293,535,295,501,298,473,303,456,310,450,317,456,325,473,331,501,337,535,340,574,341,612,340,647,337,674,331,692,325"/>
      <area shape="poly" id="node4" href="/index.html" title="Nashua Community College" alt="" coords="621,29,614,22,592,15,559,10,517,7,471,5,425,7,383,10,350,15,328,22,321,29,328,37,350,43,383,49,425,52,471,53,517,52,559,49,592,43,614,37"/>
  </map>

<p>
  Select major:
  <select>
      <option value="volvo">Software Development</option>
      <option value="saab">Networking</option>
      <option value="mercedes">web Application</option>
    </select>

</p>

  <p>" This page will redirect you to NHTI."
  </p>
  {% include 'partials/nav-bar.html' %} <!--Add this-->

  {% endblock %}
</body>
</html>
